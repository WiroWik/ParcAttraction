<mat-card>
  <mat-card-header>
    <mat-card-title>Bienvenue sur le site internet du parc d'attraction</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="attraction-title">
      <div class="attraction">
        <span>Nom de l'attraction</span>
        <span>Description de l'attraction</span>
        <span>Difficulté de l'attraction / 5</span>
      </div>
    </div>
    <ng-container *ngFor="let attraction of attractions | async;">
      <div *ngIf="attraction.visible">
        <div class="attraction">
          <span>{{attraction.nom}}</span>
          <span>{{attraction.description}}</span>
          <span>{{attraction.difficulte}} / 5</span>
        </div>
        <div class="avis">
          <span>Avis des visiteurs</span>
          <ng-container *ngFor="let formulaireAvis of formulaireAvis; let indexForm = index;"
            [formGroup]="formulaireAvis"
            style="display: flex; flex-direction: column;"
          >
            <div class="avis">
                <mat-form-field class="champ" appearance="fill">
                  <mat-label>Nom</mat-label>
                  <input matInput formControlName="nom" type="text">
                </mat-form-field>

                <mat-form-field class="champ" appearance="fill">
                  <mat-label>Prénom</mat-label>
                  <input matInput formControlName="prenom" type="text">
                </mat-form-field>

                <mat-form-field class="champ" appearance="fill">
                  <mat-label>Note / 5</mat-label>
                  <input matInput formControlName="note" type="number">
                </mat-form-field>

                <mat-form-field class="champ" appearance="fill">
                  <mat-label>Commentaire</mat-label>
                  <textarea matInput formControlName="commentaire"></textarea>
                </mat-form-field>

                <button mat-button (click)="onSubmit(indexForm)" class="champ">Enregistrer</button>
            </div>
          </ng-container>
        </div>
      </div>
    </ng-container>
  </mat-card-content>
</mat-card>